import{_ as t,c as a,o as i,a9 as r}from"./chunks/framework.CKUMok-g.js";const h=JSON.parse('{"title":"小程序的原理?","description":"","frontmatter":{"isTimeLine":true,"title":"小程序的原理?","date":"2020-04-14T00:00:00.000Z","tags":["面试","小程序"],"categories":["面试"],"head":[["script",{},"!function(p){\\"use strict\\";!function(t){var s=window,e=document,i=p,c=\\"\\".concat(\\"https:\\"===e.location.protocol?\\"https://\\":\\"http://\\",\\"sdk.51.la/js-sdk-pro.min.js\\"),n=e.createElement(\\"script\\"),r=e.getElementsByTagName(\\"script\\")[0];n.type=\\"text/javascript\\",n.setAttribute(\\"charset\\",\\"UTF-8\\"),n.async=!0,n.src=c,n.id=\\"LA_COLLECT\\",i.d=n;var o=function(){s.LA.ids.push(i)};s.LA?s.LA.ids&&o():(s.LA=p,s.LA.ids=[],o()),r.parentNode.insertBefore(n,r)}()}({\\"id\\":\\"Jgmg5avjAUvoyePS\\",\\"ck\\":\\"Jgmg5avjAUvoyePS\\",\\"hashMode\\":true});"]]},"headers":[],"relativePath":"interview/mini/principle.md","filePath":"interview/mini/principle.md","lastUpdated":1769849351000}'),l={name:"interview/mini/principle.md"};function n(s,e,o,p,c,d){return i(),a("div",{"data-pagefind-body":!0,"data-pagefind-meta":"date:1586822400000"},[...e[0]||(e[0]=[r('<h1 id="小程序的原理" tabindex="-1">小程序的原理? <a class="header-anchor" href="#小程序的原理" aria-label="Permalink to “小程序的原理?”">​</a></h1><p><strong>微信小程序为例</strong></p><h2 id="运行环境" tabindex="-1">运行环境 <a class="header-anchor" href="#运行环境" aria-label="Permalink to “运行环境”">​</a></h2><h3 id="渲染层" tabindex="-1">渲染层 <a class="header-anchor" href="#渲染层" aria-label="Permalink to “渲染层”">​</a></h3><ul><li>WXML与WXSS工作在渲染层</li><li>界面使用WebView 进行渲染</li><li>一个小程序存在多个界面，所以渲染层存在多个WebView线程</li></ul><h3 id="逻辑层" tabindex="-1">逻辑层 <a class="header-anchor" href="#逻辑层" aria-label="Permalink to “逻辑层”">​</a></h3><ul><li>JS脚本工作在逻辑层</li><li>采用JsCore线程运行JS脚本</li><li>逻辑层发送网络请求也经由微信客户端转发</li></ul><p><strong>总结</strong></p><ul><li>渲染层和逻辑层分别由2个线程管理</li><li>两个线程的通信会经由微信客户端做中转</li><li>逻辑层将数据进行处理后发送给视图层，同时接受视图层的事件反馈</li><li>逻辑层并非运行在浏览器中,即JavaScript 在 web 中一些能力都无法使用</li></ul><p><strong>微信小程序通信模型</strong><img src="https://img.cdn.sugarat.top/mdImg/MTU4NjMyMjQ4MzQ5Mg==586322483492" alt="图片" loading="lazy"></p><p><strong>小程序框架图</strong><img src="https://img.cdn.sugarat.top/mdImg/MTU4NjMyMzEzNjU0OQ==586323136549" alt="图片" loading="lazy"></p><ul><li>native层就是小程序的框架,这个框架里封装了ui层组件和逻辑层组件,组件可以通过微信app提供的接口调用操作系统的一些API</li><li>视图层和逻辑层的交互的数据经由native层处理</li><li>视图层和逻辑层都可以调用native框架里封装好的组件和方法</li></ul><div class="tip custom-block"><p class="custom-block-title">参考</p><p><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/quickstart/#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%B8%8E%E6%99%AE%E9%80%9A%E7%BD%91%E9%A1%B5%E5%BC%80%E5%8F%91%E7%9A%84%E5%8C%BA%E5%88%AB" target="_blank" rel="noreferrer">微信小程序官方文档</a><br><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/MINA.html" target="_blank" rel="noreferrer">微信小程序框架文档</a><br><a href="https://www.cnblogs.com/SophiaLees/p/11409339.html" target="_blank" rel="noreferrer">博客园:小程序工作原理浅析</a></p></div>',13)])])}const g=t(l,[["render",n]]);export{h as __pageData,g as default};
